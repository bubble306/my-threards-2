<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Echo's Threads</title>
    <style>
        body { font-family: sans-serif; background-color: #E0F2FE; display: flex; flex-direction: column; align-items: center; padding: 20px; }
        
        /* å‘å¸ƒæ¡† */
        .input-section { background: white; width: 100%; max-width: 500px; border-radius: 20px; padding: 20px; margin-bottom: 20px; display: flex; flex-direction: column; gap: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        textarea { border: 1px solid #ddd; border-radius: 10px; padding: 10px; resize: none; outline: none; font-size: 15px; }
        #post-btn { background: black; color: white; border: none; padding: 10px 20px; border-radius: 20px; cursor: pointer; align-self: flex-end; font-weight: bold; }
        
        /* å¸–å­åˆ—è¡¨ */
        #threads-container { width: 100%; max-width: 500px; }
        .thread-card { background: white; border-radius: 20px; padding: 20px; margin-bottom: 15px; position: relative; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        
        /* åˆ é™¤æŒ‰é’®ï¼šå³ä¸Šè§’çº¢è‰²å°åœ†ç‚¹ */
        .del-btn { position: absolute; top: 15px; right: 15px; background: #ff4d4f; color: white; width: 22px; height: 22px; border-radius: 50%; text-align: center; line-height: 20px; cursor: pointer; font-size: 14px; }
        
        .user-name { font-weight: bold; color: #1e293b; font-size: 16px; }
        .post-time { font-size: 12px; color: #999; margin-top: 4px; }
        .content { color: #333; line-height: 1.6; margin: 15px 0; white-space: pre-wrap; }
        
        /* äº’åŠ¨æŒ‰é’® */
        .actions { border-top: 1px solid #f0f0f0; padding-top: 12px; display: flex; gap: 25px; font-size: 18px; color: #666; }
        .action-item { cursor: pointer; }
    </style>
</head>
<body>

    <div class="input-section">
        <textarea id="post-input" rows="3" placeholder="Echoï¼Œä»Šå¤©æƒ³å‘ç‚¹ä»€ä¹ˆï¼Ÿ"></textarea>
        <button id="post-btn" onclick="addPost()">å‘å¸ƒ</button>
    </div>

    <div id="threads-container"></div>

    <script>
        // 1. åˆå§‹åŒ–ï¼šä»æœ¬åœ°å­˜å‚¨è½½å…¥æ•°æ®
        window.onload = function() {
            const savedData = localStorage.getItem('echo_threads_data');
            if(savedData) {
                const posts = JSON.parse(savedData);
                posts.forEach(p => renderPost(p.text, p.time, p.id));
            }
        }

        // 2. ç‚¹å‡»å‘å¸ƒæŒ‰é’®
        function addPost() {
            const input = document.getElementById('post-input');
            const val = input.value.trim();
            if(!val) return;

            const time = new Date().toLocaleString();
            const id = "post_" + Date.now();

            renderPost(val, time, id); // æ˜¾ç¤ºåœ¨é¡µé¢

            // ä¿å­˜åˆ°æœ¬åœ°
            const posts = JSON.parse(localStorage.getItem('echo_threads_data') || "[]");
            posts.unshift({ text: val, time: time, id: id });
            localStorage.setItem('echo_threads_data', JSON.stringify(posts));

            input.value = ""; // æ¸…ç©ºè¾“å…¥æ¡†
        }

        // 3. æŠŠå¸–å­ç”»åœ¨å±å¹•ä¸Š
        function renderPost(text, time, id) {
            const container = document.getElementById('threads-container');
            const card = document.createElement('div');
            card.className = 'thread-card';
            card.id = id;

            // è¿™é‡Œç§»é™¤äº†æ‰€æœ‰ img æ ‡ç­¾ï¼Œåªä¿ç•™æ–‡å­—
            card.innerHTML = `
                <div class="del-btn" onclick="deletePost('${id}')">Ã—</div>
                <div class="user-name">@Echo</div>
                <div class="post-time">${time}</div>
                <p class="content">${text}</p >
                <div class="actions">
                    <span class="action-item" onclick="this.innerText=(this.innerText=='ğŸ¤'?'â¤ï¸':'ğŸ¤')">ğŸ¤</span>
                    <span class="action-item" onclick="alert('è¯„è®ºåŠŸèƒ½å¼€å‘ä¸­...')">ğŸ’¬</span>
                    <span class="action-item" onclick="alert('è½¬å‘æˆåŠŸï¼')">âœˆï¸</span>
                </div>
            `;
            container.prepend(card);
        }

        // 4. åˆ é™¤åŠŸèƒ½
        function deletePost(id) {
            if(!confirm("ç¡®å®šè¦åˆ é™¤è¿™æ¡åŠ¨æ€å—ï¼Ÿ")) return;

            // ä»å±å¹•åˆ é™¤
            const target = document.getElementById(id);
            if(target) target.remove();

            // ä»å­˜å‚¨ä¸­åˆ é™¤
            let posts = JSON.parse(localStorage.getItem('echo_threads_data') || "[]");
            posts = posts.filter(p => p.id !== id);
            localStorage.setItem('echo_threads_data', JSON.stringify(posts));
        }
    </script>
</body>
</html>